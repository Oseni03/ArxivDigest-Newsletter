{% load static %} {% load widget_tweaks %} {% load mptt_tags %}

<div class="modal" id="subscriptionModal" tabindex="-1">
	<div class="modal-dialog modal-md-lg modal-dialog-centered">
		<div class="modal-content">
			<div class="modal-body text-center p-5">
				<h1 class="text-primary">Subscribe To Our Newsletter</h1>
				<p class="my-2">
					Lorem ipsum dolor sit amet, consectetur adipisicing elit.
					Natus quia dignissimos excepturi praesentium, repudiandae
					voluptates ipsum culpa illo hic dolor.
				</p>
				<form
					method="post"
					action="{% url 'newsletter:newsletter_subscribe' %}"
				>
					{% csrf_token %}
					<div class="input-group mb-3">
						{% render_field subscription_form.email
						class="form-control" placeholder="Email address"
						aria-describedby="button-addon2" %}
						<button
							class="btn btn-primary btn-md-lg"
							type="submit"
							id="button-addon2"
						>
							Subscribe
						</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>

<nav
	class="navbar navbar-expand-md bg-body-tertiary rounded fixed-top"
	aria-label="Eleventh navbar example"
>
	<div class="container-md">
		<a class="navbar-brand fw-bolder text-primary fs-3 " href="/">ArxivDgiest</a>

		<div class="navbar-collapse collapse" id="navbarsExample09" style="">
			<ul class="navbar-nav ms-auto mb-2 mb-lg-0">
				<li>
					<a href="/" class="nav-link active px-2 link-secondary"
						>Home</a
					>
				</li>
				<li class="dropdown">
					<a
						href="#"
						class="nav-link px-2 dropdown-toggle"
						href="#"
						role="button"
						data-bs-toggle="dropdown"
						aria-expanded="false"
						>Category</a
					>
					<ul class="dropdown-menu">
						{% for topic in topics %} 
						{% if not topic.is_leaf_node %}
						<li>
							<a class="dropdown-item" href="#">
								{{ topic.name }} &raquo;
							</a>
							<ul class="submenu dropdown-menu">
								{% for subtopic in topic.get_children %} 
								{% if not subtopic.is_leaf_node %}
								<li>
									<a
										class="dropdown-item"
										href="{{ subtopic.get_absolute_url }}"
										>{{ subtopic.name }} &raquo;
									</a>
									<ul class="submenu dropdown-menu">
										{% for subsubtopic in subtopic.get_children %}
										<li>
											<a
												class="dropdown-item"
												href="{{ subsubtopic.get_absolute_url }}"
												>{{ subsubtopic.name }}</a
											>
										</li>
										{% endfor %}
									</ul>
								</li>
								{% else %}
								<li>
									<a
										class="dropdown-item"
										href="{{ subtopic.get_absolute_url }}"
									>
										{{ subtopic.name }}
									</a>
								</li>
								{% endif %} 
								{% endfor %}
							</ul>
						</li>
						{% else %}
						<li>
							<a
								class="dropdown-item"
								href="{{ topic.get_absolute_url }}"
							>
								{{ topic.name }}
							</a>
						</li>
						{% endif %} 
						{% endfor %}
					</ul>
				</li>
				<li>
					<a
						href="{% url 'newsletter:newsletters' %}"
						class="nav-link px-2"
						>Newsletters</a
					>
				</li>
				<li>
					<a
						href="{% url 'subscription:pricing' %}"
						class="nav-link px-2"
						>Pricing</a
					>
				</li>
				<li><a href="#" class="nav-link px-2">About</a></li>
			</ul>
		</div>

		<div class="ms-md-3">
			<a
				href="{% url 'accounts:login' %}"
				class="btn btn-outline-primary me-2"
				>Login</a
			>
			<button
				type="button"
				class="btn btn-primary"
				data-bs-toggle="modal"
				data-bs-target="#subscriptionModal"
			>
				Subscribe
			</button>
		</div>
		<button
			class="navbar-toggler collapsed ms-0"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarsExample09"
			aria-controls="navbarsExample09"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
	</div>
</nav>
