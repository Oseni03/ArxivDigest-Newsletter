{% extends "base.html" %} 
{% load static %} 
{% load django_htmx %}
{% load widget_tweaks %} 

{% block title %} Home {% endblock %} 

{% block content %}
<div class="text-center">
  <div class="py-5">
    <h1 class="display-5 fw-bold text-primary">Arxiv Digest's Newsletter</h1>
    <div class="col-md-8 mx-auto">
      <p class="fs-4 mb-4">
        Quickly design and customize responsive mobile-first sites with
        Bootstrap, the world's most popular front-end open source toolkit,
        featuring Sass variables and mixins.
      </p>
      <div class="">
        <form
          action="{% url 'newsletter:newsletter_subscribe' %}"
          method="post"
        >
          {% csrf_token %}
          <div class="input-group mb-3">
            {% render_field subscription_form.email class="form-control" placeholder="Email address" aria-describedby="button-addon2" %}
            <button
              class="btn btn-primary btn-lg"
              type="submit"
              id="button-addon2"
            >
              Subscribe
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="my-3 d-flex flex-wrap gap-2 gap-md-3 justify-content-center">
    {% for topic in topics %}
      <a class="btn btn-outline-primary rounded py-1 px-2 text-xs" href="{{ topic.get_absolute_url }}">{{ topic.name|title }}</a>
    {% endfor %}
  </div>
  <div class="mt-4">
    <h4 class="text-primary fw-bold">Latest papers</h4>
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3 mt-3 card-group" id="paper-list">
      {% include "newsletter/partials/_paper_list.html" %}
    </div>
    <div class="text-center my-4">
      <a hx-get="{% url "newsletter:home" %}?page={{ papers.number|add:1 }}" hx-target="#paper-list" hx-swap="beforeend" class="btn btn-primary rounded-0 btn-lg">Load more</a>
    </div>
  </div>
</div>
{% endblock %}
